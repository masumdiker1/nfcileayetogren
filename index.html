<script>
    let tumAyetler = [];

    const container = document.getElementById('container');
    const surahInfoEl = document.getElementById('surah-info');
    const ayetArabicEl = document.getElementById('ayet-arabic');
    const ayetMealEl = document.getElementById('ayet-meal');

    document.addEventListener('DOMContentLoaded', verileriYukle);
    document.body.addEventListener('click', () => {
        if (tumAyetler.length > 0) {
            yeniAyetGoster();
        }
    });

    async function verileriYukle() {
        try {
            // Yerel kuran.json dosyasını çekiyoruz
            const response = await fetch('kuran.json');
            if (!response.ok) {
                throw new Error('kuran.json yüklenemedi.');
            }
            tumAyetler = await response.json();
            
            // Veriler yüklenince ilk ayeti göster
            yeniAyetGoster();

        } catch (error) {
            surahInfoEl.textContent = 'Ayetler yüklenirken bir sorun oluştu.';
            console.error('Hata:', error);
        }
    }

    function yeniAyetGoster() {
        if (tumAyetler.length === 0) return;

        const randomIndex = Math.floor(Math.random() * tumAyetler.length);
        const ayet = tumAyetler[randomIndex];

        surahInfoEl.textContent = `${ayet.sure_adi} Suresi, ${ayet.ayet_no}. Ayet`;
        ayetArabicEl.textContent = ayet.arapca;
        ayetMealEl.textContent = `Meali: ${ayet.turkce}`;
    }
</script>
</body>
</html>
